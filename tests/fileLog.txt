
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
‚ñà                                                                    ‚ñà
‚ñà                  CCloud FileOps Endpoint Test Suite                ‚ñà
‚ñà                                                                    ‚ñà
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà

======================================================================
TEST 1: POST /files/upload
======================================================================
E:\CCloud\core\tests\fileUpload.py:44: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  creation_date = datetime.utcnow().isoformat() + "Z"
üìÅ File size: 51200 bytes
üîê SHA-256: 747ffb66d9569fce...
üìÖ Creation date: 2026-02-18T18:59:21.589366Z

‚úì Status: 200
‚úì Response: {
  "id": "747ffb66d9569fce70d8e9910230ed6cca8d52100286d9e86aa03ebdbb4f69d1",  
  "checksum": "747ffb66d9569fce70d8e9910230ed6cca8d52100286d9e86aa03ebdbb4f69d1",
  "status": "processed"
}

‚úÖ UPLOAD TEST PASSED

======================================================================       
TEST 2: POST /files/state
======================================================================       
üìä Fetching combined state hash and file count...

‚úì Status: 200
‚úì Response: {
  "stateHash": "f2e7cf1135838372d4a6905c0525958d65282f8e8b8b8bfc762aa7c1cd9d4a5e",
  "fileCount": "1"
}

üìà State Hash: f2e7cf1135838372...
üìÇ Total files: 1

‚úÖ STATE TEST PASSED

======================================================================       
TEST 3: GET /files/sync
======================================================================       
üîÑ Syncing changes from version 0 with limit 50...

‚úì Status: 200
‚úì Response structure:
{
  "items": [
    {
      "id": "747ffb66d9569fce70d8e9910230ed6cca8d52100286d9e86aa03ebdbb4f69d1",
      "version": "1",
      "name": "test_document.pdf",
      "mimeType": "application/pdf",
      "size": 51200,
      "creationDate": "2026-02-18T18:59:21.589366+00:00",
      "checksum": "747ffb66d9569fce70d8e9910230ed6cca8d52100286d9e86aa03ebdbb4f69d1"
    }
  ],
  "deletedIds": [],
  "nextVersion": 1
}

üìÑ Items: 1 changes
üóëÔ∏è  Deleted: 0 files
‚è≠Ô∏è  Next version: 1

   Sample change:
   - ID: 747ffb66d9569fce...
   - Name: test_document.pdf
   - Size: 51200 bytes
   - MIME: application/pdf

‚úÖ SYNC TEST PASSED

======================================================================       
TEST 4: Corruption Detection (negative test)
======================================================================       
üî¥ Testing upload with mismatched checksum...
E:\CCloud\core\tests\fileUpload.py:207: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  creation_date = datetime.utcnow().isoformat() + "Z"

‚úì Status: 400
‚úì Response: {
  "error": "try again. the file recieved by the server is corrupted"
}

‚úÖ CORRUPTION DETECTION TEST PASSED (correctly rejected malformed request)   

======================================================================       
TEST 5: Incremental Sync (version tracking)
======================================================================       
üîÑ Testing sync from various version points...

1Ô∏è‚É£  Full sync (version=0):
======================================================================       
TEST 3: GET /files/sync
======================================================================       
üîÑ Syncing changes from version 0 with limit 10...

‚úì Status: 200
‚úì Response structure:
{
  "items": [
    {
      "id": "747ffb66d9569fce70d8e9910230ed6cca8d52100286d9e86aa03ebdbb4f69d1",
      "version": "1",
      "name": "test_document.pdf",
      "mimeType": "application/pdf",
      "size": 51200,
      "creationDate": "2026-02-18T18:59:21.589366+00:00",
      "checksum": "747ffb66d9569fce70d8e9910230ed6cca8d52100286d9e86aa03ebdbb4f69d1"
    }
  ],
  "deletedIds": [],
  "nextVersion": 1
}

üìÑ Items: 1 changes
üóëÔ∏è  Deleted: 0 files
‚è≠Ô∏è  Next version: 1

   Sample change:
   - ID: 747ffb66d9569fce...
   - Name: test_document.pdf
   - Size: 51200 bytes
   - MIME: application/pdf

‚úÖ SYNC TEST PASSED


2Ô∏è‚É£  Incremental sync (version=1):
======================================================================       
TEST 3: GET /files/sync
======================================================================       
üîÑ Syncing changes from version 1 with limit 10...

‚úì Status: 500
‚úì Response structure:
{
  "err": "No data returned"
}

‚ùå SYNC TEST FAILED: Expected 200, got 500

‚ö†Ô∏è  Could not complete incremental sync test


‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà       
‚ñà                         Test Suite Complete                        ‚ñà       
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà       

